(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports=a(15)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(2),r=a.n(c);a(12),a(13);var o=e=>{let{isOpen:t,onClose:a,onSave:n,onDelete:c,title:r,children:o}=e;return t?l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",null,r),l.a.createElement("button",{onClick:a,className:"close-button"},"x")),l.a.createElement("div",{className:"modal-content"},o),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{onClick:n,className:"save-button"},"Save"),c&&l.a.createElement("button",{onClick:c,className:"delete-button"},"Delete"),l.a.createElement("button",{onClick:a,className:"cancel-button"},"Cancel")))):null};a(14);var m=e=>{let{character:t,imagePath:a}=e;const[c,r]=Object(n.useState)(!1),[m,s]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[E,d]=Object(n.useState)(""),[p,h]=Object(n.useState)(t),[g,b]=Object(n.useState)(t?t.HP:null);if(Object(n.useEffect)(()=>{if(t){const e="characterData_".concat(t.Name),a=localStorage.getItem(e);if(a){const e=JSON.parse(a);h(e),b(e.currentHP||e.HP)}else h(t),b(t.HP)}},[t]),!p)return l.a.createElement("p",null,"Loading...");const N=(e=>{const t=Math.floor(e),a=Math.floor(10*(e-t));return{gold:t,silver:a,copper:Math.floor(10*(10*(e-t)-a))}})(p.Money),f=(e,t,a)=>{u(e),d(t),s(a),r(!0)},v="".concat("/absev-enordfor-ai","/images/").concat(p.Name.toLowerCase().replace(/\s+/g,"-"),".webp");return l.a.createElement("div",{className:"character-sheet"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header-info"},l.a.createElement("h1",null,p.Name),l.a.createElement("h2",null,p.Race," ",p.Class," - Level ",p.Level),l.a.createElement("h3",null,"Alignment: ",p.Alignment)),l.a.createElement("img",{src:v,alt:"Character in action",className:"character-image"})),l.a.createElement("button",{onClick:()=>{const e="characterData_".concat(p.Name);localStorage.removeItem(e),h(t),b(t.HP)}},"Reset Data"),l.a.createElement("button",{onClick:()=>{const e="characterData_".concat(p.Name),t=localStorage.getItem(e),a=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(a);const l="".concat(p.Name.toLowerCase().replace(/\s+/g,"-"),".json");n.download=l,n.click()}},"Export to File"),l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"hit-points section"},l.a.createElement("h3",null,"Hit Points"),l.a.createElement("p",null,p.HP),l.a.createElement("h3",null,"Current HP ",l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("currentHP","",g),className:"edit-icon"})),l.a.createElement("p",null,g)),l.a.createElement("h3",null,"Attributes"),l.a.createElement("table",null,l.a.createElement("tbody",null,Object.entries(p.Abilities).map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,a))})))),l.a.createElement("div",{className:"column"},l.a.createElement("h3",null,"Combat Stats"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"AC"),l.a.createElement("td",{colSpan:"3"},p.AC)),l.a.createElement("tr",null,l.a.createElement("th",null,"Initiative"),l.a.createElement("td",{colSpan:"3"},p.Initiative)),l.a.createElement("tr",null,l.a.createElement("th",null,"Speed"),l.a.createElement("td",{colSpan:"3"},p.Speed)),Object.entries(p.Attacks).map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,a["Attack Bonus"]),l.a.createElement("td",null,a.Damage),l.a.createElement("td",null,a.Special))})))),l.a.createElement("div",{className:"column"},l.a.createElement("h3",null,"Skills"),l.a.createElement("table",null,l.a.createElement("tbody",null,Object.entries(p.Skills).map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,a))}))))),l.a.createElement("div",{className:"equipment section"},l.a.createElement("h3",null,"Equipment"),l.a.createElement("table",null,l.a.createElement("tbody",null,Object.entries(p.Equipment).map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("Equipment",t,a),className:"edit-icon"})))}))),l.a.createElement("button",{onClick:()=>{const e=prompt("Enter the name of the new equipment item:");if(e){const t={...p,Equipment:{...p.Equipment,[e]:""}};h(t);const a="characterData_".concat(p.Name);localStorage.setItem(a,JSON.stringify(t))}}},"Add New Equipment")),l.a.createElement("div",{className:"money section"},l.a.createElement("h3",null,"Money ",l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("Money","",p.Money),className:"edit-icon"})),l.a.createElement("p",null,N.gold," gp, ",N.silver," sp, ",N.copper," cp")),l.a.createElement("div",{className:"special-abilities section"},l.a.createElement("h3",null,"Special Abilities"),l.a.createElement("ul",null,Object.entries(p["Special Abilities"]).map(e=>{let[t,a]=e;return l.a.createElement("li",{key:t},l.a.createElement("strong",null,t,":"),"object"===typeof a?l.a.createElement("ul",null,Object.entries(a).map(e=>{let[t,a]=e;return l.a.createElement("li",{key:t},t,": ",a)})):a)}))),l.a.createElement("div",{className:"feats section"},l.a.createElement("h3",null,"Feats"),l.a.createElement("ul",null,p.Feats.map((e,t)=>l.a.createElement("li",{key:t},e)))),l.a.createElement("div",{className:"languages section"},l.a.createElement("h3",null,"Languages"),l.a.createElement("ul",null,p.Languages.map((e,t)=>l.a.createElement("li",{key:t},e)))),l.a.createElement("div",{className:"experience-points section"},l.a.createElement("h3",null,"Experience Points ",l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("Experience Points","",p["Experience Points"]),className:"edit-icon"})),l.a.createElement("p",null,p["Experience Points"])),l.a.createElement("div",{className:"notes section"},l.a.createElement("h3",null,"Notes"),l.a.createElement("table",null,l.a.createElement("tbody",null,Object.entries(p.Notes).map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("Notes",t,a),className:"edit-icon"})))}))),l.a.createElement("button",{onClick:()=>{const e=prompt("Enter the title of the new note:");if(e){const t={...p,Notes:{...p.Notes,[e]:""}};h(t);const a="characterData_".concat(p.Name);localStorage.setItem(a,JSON.stringify(t))}}},"Add New Note")),p.Spellbook&&l.a.createElement("div",{className:"spellbook section"},l.a.createElement("h3",null,"Spellbook"),Object.entries(p.Spellbook).map(e=>{let[t,a]=e;return l.a.createElement("div",{key:t},l.a.createElement("h4",null,t),l.a.createElement("ul",null,a.map((e,t)=>l.a.createElement("li",{key:"".concat(e.name,"-").concat(t)},l.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)))))})),p.Memorized&&l.a.createElement("div",{className:"memorized section"},l.a.createElement("h3",null,"Memorized Spells"),Object.entries(p.Memorized).map(e=>{let[t,a]=e;return l.a.createElement("div",{key:t},l.a.createElement("h4",null,t),l.a.createElement("ul",null,a.spells.map((e,a)=>l.a.createElement("li",{key:"".concat(e,"-").concat(a)},e,l.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>f("Memorized","".concat(t,"-").concat(a),e),className:"edit-icon"})))))})),l.a.createElement(o,{isOpen:c,onClose:()=>{r(!1),s(""),u(""),d("")},onSave:()=>{let e={...p};if("Equipment"===i||"Notes"===i)e[i][E]=m;else if("Memorized"===i){const[t,a]=E.split("-");e.Memorized[t].spells[parseInt(a,10)]=m}else"currentHP"===i?(b(m),e={...e,currentHP:m}):e={...e,[i]:m};const t="characterData_".concat(p.Name);h(e),r(!1),u(""),d(""),s(""),localStorage.setItem(t,JSON.stringify(e))},onDelete:"Equipment"===i||"Notes"===i||"Memorized"===i?()=>{let e={...p};if("Equipment"===i||"Notes"===i)delete e[i][E];else if("Memorized"===i){const[t,a]=E.split("-");e.Memorized[t].spells.splice(parseInt(a,10),1)}const t="characterData_".concat(p.Name);h(e),r(!1),u(""),d(""),s(""),localStorage.setItem(t,JSON.stringify(e))}:null,title:"Edit ".concat(i," ").concat(E)},"Memorized"===i?l.a.createElement("select",{value:m,onChange:e=>s(e.target.value)},p.Spellbook[E.split("-")[0]].map((e,t)=>l.a.createElement("option",{key:"".concat(e.name,"-").concat(t),value:e.name},e.name))):l.a.createElement("textarea",{value:m,onChange:e=>s(e.target.value),rows:"10",cols:"30"}))))};var s=e=>{let{selectedCharacter:t}=e;const[a,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),[s,i]=Object(n.useState)([]);return Object(n.useEffect)(()=>{console.log("Fetching characters.json"),fetch("".concat("/absev-enordfor-ai","/characters.json")).then(e=>{if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{console.log("Fetched characters:",e),i(e)}).catch(e=>{console.error("Error fetching characters.json:",e),o(e)})},[]),Object(n.useEffect)(()=>{if(console.log("Selected character:",t),t&&s.length>0){const e=s.find(e=>e.name===t);e?(console.log("Fetching character file:",e.file),fetch("".concat("/absev-enordfor-ai","/").concat(e.file)).then(e=>{if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{console.log("Fetched character data:",e),c(e)}).catch(e=>{console.error("Error fetching character file:",e),o(e)})):(console.error("Character not found:",t),o(new Error("Character not found: ".concat(t))))}},[t,s]),r?l.a.createElement("div",null,"Error fetching JSON: ",r.message):a?l.a.createElement(m,{character:a,imagePath:"".concat("/absev-enordfor-ai","/images/").concat(a.Name.toLowerCase().replace(/\s+/g,"-"),".png")}):l.a.createElement("div",null,"Loading...")};var i=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{fetch("".concat("/absev-enordfor-ai","/characters.json")).then(e=>e.json()).then(e=>c(e)).catch(e=>console.error("Error fetching characters.json:",e))},[]);return l.a.createElement("div",{className:"app-container"},l.a.createElement("header",null,l.a.createElement("h1",null,"Character Viewer"),l.a.createElement("select",{onChange:e=>{t(e.target.value)},value:e},l.a.createElement("option",{value:""},"Select a character"),a.map(e=>l.a.createElement("option",{key:e.name,value:e.name},e.name)))),e&&l.a.createElement(s,{selectedCharacter:e}))};var u=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i,null))),u()}],[[3,1,2]]]);
//# sourceMappingURL=main.fd466eb0.chunk.js.map