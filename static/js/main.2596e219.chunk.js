(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports=a(15)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(2),r=a.n(c);a(12),a(13);var o=e=>{let{isOpen:t,onClose:a,onSave:l,onDelete:c,title:r,children:o}=e;return t?n.a.createElement("div",{className:"modal-overlay"},n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",null,r),n.a.createElement("button",{onClick:a,className:"close-button"},"x")),n.a.createElement("div",{className:"modal-content"},o),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{onClick:l,className:"save-button"},"Save"),c&&n.a.createElement("button",{onClick:c,className:"delete-button"},"Delete"),n.a.createElement("button",{onClick:a,className:"cancel-button"},"Cancel")))):null};a(14);var m=e=>{let{character:t,imagePath:a}=e;const[c,r]=Object(l.useState)(!1),[m,s]=Object(l.useState)(""),[i,u]=Object(l.useState)(""),[E,d]=Object(l.useState)(""),[h,p]=Object(l.useState)(t),[g,b]=Object(l.useState)(t?t.HP:null);if(Object(l.useEffect)(()=>{if(t){const e="characterData_".concat(t.Name),a=localStorage.getItem(e);if(a){const e=JSON.parse(a);p(e),b(e.currentHP||e.HP)}else p(t),b(t.HP)}},[t]),!h)return n.a.createElement("p",null,"Loading...");const f=(e=>{const t=Math.floor(e),a=Math.floor(10*(e-t));return{gold:t,silver:a,copper:Math.floor(10*(10*(e-t)-a))}})(h.Money),v=(e,t,a)=>{u(e),d(t),s(a),r(!0)},N="".concat("/absev-enordfor-ai","/images/").concat(h.Name.toLowerCase().replace(/\s+/g,"-"),".webp");return n.a.createElement("div",{className:"character-sheet"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header-info"},n.a.createElement("h1",null,h.Name),n.a.createElement("h2",null,h.Race," ",h.Class," - Level ",h.Level),n.a.createElement("h3",null,"Alignment: ",h.Alignment)),n.a.createElement("img",{src:N,alt:"Character in action",className:"character-image"})),n.a.createElement("button",{onClick:()=>{const e="characterData_".concat(h.Name);localStorage.removeItem(e),p(t),b(t.HP)}},"Reset Data"),n.a.createElement("button",{onClick:()=>{const e="characterData_".concat(h.Name),t=localStorage.getItem(e),a=new Blob([t],{type:"application/json"}),l=document.createElement("a");l.href=URL.createObjectURL(a);const n="".concat(h.Name.toLowerCase().replace(/\s+/g,"-"),".json");l.download=n,l.click()}},"Export to File"),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"hit-points section"},n.a.createElement("h3",null,"Hit Points"),n.a.createElement("p",null,h.HP),n.a.createElement("h3",null,"Current HP ",n.a.createElement("img",{src:"pencil.png",alt:"Edit",onClick:()=>v("currentHP","",g),className:"edit-icon"})),n.a.createElement("p",null,g)),n.a.createElement("h3",null,"Attributes"),n.a.createElement("table",null,n.a.createElement("tbody",null,Object.entries(h.Abilities).map(e=>{let[t,a]=e;return n.a.createElement("tr",{key:t},n.a.createElement("th",null,t),n.a.createElement("td",null,a))})))),n.a.createElement("div",{className:"column"},n.a.createElement("h3",null,"Combat Stats"),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"AC"),n.a.createElement("td",{colSpan:"3"},h.AC)),n.a.createElement("tr",null,n.a.createElement("th",null,"Initiative"),n.a.createElement("td",{colSpan:"3"},h.Initiative)),n.a.createElement("tr",null,n.a.createElement("th",null,"Speed"),n.a.createElement("td",{colSpan:"3"},h.Speed)),Object.entries(h.Attacks).map(e=>{let[t,a]=e;return n.a.createElement("tr",{key:t},n.a.createElement("th",null,t),n.a.createElement("td",null,a["Attack Bonus"]),n.a.createElement("td",null,a.Damage),n.a.createElement("td",null,a.Special))})))),n.a.createElement("div",{className:"column"},n.a.createElement("h3",null,"Skills"),n.a.createElement("table",null,n.a.createElement("tbody",null,Object.entries(h.Skills).map(e=>{let[t,a]=e;return n.a.createElement("tr",{key:t},n.a.createElement("th",null,t),n.a.createElement("td",null,a))}))))),n.a.createElement("div",{className:"equipment section"},n.a.createElement("h3",null,"Equipment"),n.a.createElement("table",null,n.a.createElement("tbody",null,Object.entries(h.Equipment).map(e=>{let[t,a]=e;return n.a.createElement("tr",{key:t},n.a.createElement("th",null,t),n.a.createElement("td",null,a),n.a.createElement("td",null,n.a.createElement("img",{src:"pencil.png",alt:"Edit",onClick:()=>v("Equipment",t,a),className:"edit-icon"})))}))),n.a.createElement("button",{onClick:()=>{const e=prompt("Enter the name of the new equipment item:");if(e){const t={...h,Equipment:{...h.Equipment,[e]:""}};p(t);const a="characterData_".concat(h.Name);localStorage.setItem(a,JSON.stringify(t))}}},"Add New Equipment")),n.a.createElement("div",{className:"money section"},n.a.createElement("h3",null,"Money ",n.a.createElement("img",{src:"pencil.png",alt:"Edit",onClick:()=>v("Money","",h.Money),className:"edit-icon"})),n.a.createElement("p",null,f.gold," gp, ",f.silver," sp, ",f.copper," cp")),n.a.createElement("div",{className:"special-abilities section"},n.a.createElement("h3",null,"Special Abilities"),n.a.createElement("ul",null,Object.entries(h["Special Abilities"]).map(e=>{let[t,a]=e;return n.a.createElement("li",{key:t},n.a.createElement("strong",null,t,":"),"object"===typeof a?n.a.createElement("ul",null,Object.entries(a).map(e=>{let[t,a]=e;return n.a.createElement("li",{key:t},t,": ",a)})):a)}))),n.a.createElement("div",{className:"feats section"},n.a.createElement("h3",null,"Feats"),n.a.createElement("ul",null,h.Feats.map((e,t)=>n.a.createElement("li",{key:t},e)))),n.a.createElement("div",{className:"languages section"},n.a.createElement("h3",null,"Languages"),n.a.createElement("ul",null,h.Languages.map((e,t)=>n.a.createElement("li",{key:t},e)))),h.Spellbook&&n.a.createElement("div",{className:"spellbook section"},n.a.createElement("h3",null,"Spellbook"),Object.entries(h.Spellbook).map(e=>{let[t,a]=e;return n.a.createElement("div",{key:t},n.a.createElement("h4",null,t),n.a.createElement("ul",null,a.map((e,t)=>n.a.createElement("li",{key:"".concat(e.name,"-").concat(t)},n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)))))})),h.Memorized&&n.a.createElement("div",{className:"memorized section"},n.a.createElement("h3",null,"Memorized Spells"),Object.entries(h.Memorized).map(e=>{let[t,a]=e;return n.a.createElement("div",{key:t},n.a.createElement("h4",null,t),n.a.createElement("ul",null,a.spells.map((e,a)=>n.a.createElement("li",{key:"".concat(e,"-").concat(a)},e,n.a.createElement("img",{src:"/pencil.png",alt:"Edit",onClick:()=>v("Memorized","".concat(t,"-").concat(a),e),className:"edit-icon"})))))})),n.a.createElement(o,{isOpen:c,onClose:()=>{r(!1),s(""),u(""),d("")},onSave:()=>{let e={...h};if("Equipment"===i)e.Equipment[E]=m;else if("Memorized"===i){const[t,a]=E.split("-");e.Memorized[t].spells[parseInt(a,10)]=m}else"currentHP"===i?(b(m),e={...e,currentHP:m}):e={...e,[i]:m};const t="characterData_".concat(h.Name);p(e),r(!1),u(""),d(""),s(""),localStorage.setItem(t,JSON.stringify(e))},onDelete:"Equipment"===i||"Memorized"===i?()=>{let e={...h};if("Equipment"===i)delete e.Equipment[E];else if("Memorized"===i){const[t,a]=E.split("-");e.Memorized[t].spells.splice(parseInt(a,10),1)}const t="characterData_".concat(h.Name);p(e),r(!1),u(""),d(""),s(""),localStorage.setItem(t,JSON.stringify(e))}:null,title:"Edit ".concat(i," ").concat(E)},"Memorized"===i?n.a.createElement("select",{value:m,onChange:e=>s(e.target.value)},h.Spellbook[E.split("-")[0]].map((e,t)=>n.a.createElement("option",{key:"".concat(e.name,"-").concat(t),value:e.name},e.name))):n.a.createElement("textarea",{value:m,onChange:e=>s(e.target.value),rows:"10",cols:"30"}))))};var s=e=>{let{selectedCharacter:t}=e;const[a,c]=Object(l.useState)(null),[r,o]=Object(l.useState)(null),[s,i]=Object(l.useState)([]);return Object(l.useEffect)(()=>{console.log("Fetching characters.json"),fetch("".concat("/absev-enordfor-ai","/characters.json")).then(e=>{if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{console.log("Fetched characters:",e),i(e)}).catch(e=>{console.error("Error fetching characters.json:",e),o(e)})},[]),Object(l.useEffect)(()=>{if(console.log("Selected character:",t),t&&s.length>0){const e=s.find(e=>e.name===t);e?(console.log("Fetching character file:",e.file),fetch("".concat("/absev-enordfor-ai","/").concat(e.file)).then(e=>{if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{console.log("Fetched character data:",e),c(e)}).catch(e=>{console.error("Error fetching character file:",e),o(e)})):(console.error("Character not found:",t),o(new Error("Character not found: ".concat(t))))}},[t,s]),r?n.a.createElement("div",null,"Error fetching JSON: ",r.message):a?n.a.createElement(m,{character:a,imagePath:"".concat("/absev-enordfor-ai","/images/").concat(a.Name.toLowerCase().replace(/\s+/g,"-"),".png")}):n.a.createElement("div",null,"Loading...")};var i=()=>{const[e,t]=Object(l.useState)(""),[a,c]=Object(l.useState)([]);Object(l.useEffect)(()=>{fetch("".concat("/absev-enordfor-ai","/characters.json")).then(e=>e.json()).then(e=>c(e)).catch(e=>console.error("Error fetching characters.json:",e))},[]);return n.a.createElement("div",{className:"app-container"},n.a.createElement("header",null,n.a.createElement("h1",null,"Character Viewer"),n.a.createElement("select",{onChange:e=>{t(e.target.value)},value:e},n.a.createElement("option",{value:""},"Select a character"),a.map(e=>n.a.createElement("option",{key:e.name,value:e.name},e.name)))),e&&n.a.createElement(s,{selectedCharacter:e}))};var u=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:c,getTTFB:r}=t;a(e),l(e),n(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null))),u()}],[[3,1,2]]]);
//# sourceMappingURL=main.2596e219.chunk.js.map